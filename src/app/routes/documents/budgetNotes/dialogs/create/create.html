<div class="largeModal">
	<bodycardtitle [title]=title [subtitle]=subtitle [icon]=icon [color]=color></bodycardtitle>
	<mat-dialog-content class="mat-typography ">
		<form [formGroup]='createFormGroup'>
			<div class="row">

				<mat-form-field class="col-lg-12 col-md-12 col-sm-12">

					<input matInput [matDatepicker]="dp3" placeholder="Fecha de creación" disabled>
					<mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
					<mat-datepicker #dp3 disabled="false"></mat-datepicker>

					<mat-error *ngIf="createFormGroup.controls.typeAdministratorDocumentId .hasError('required')">
						El campo es <strong>Obligatorio</strong>.
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12 col-md-12 col-sm-12">
					<input matInput placeholder="Códigode tesorería" formControlName='treasuryCode' autocomplete="false"
						[errorStateMatcher]="matcher">
					<mat-error *ngIf="createFormGroup.controls.treasuryCode.hasError('required')">
						El campo es <strong>obligatorio</strong>.
					</mat-error>
					<mat-error *ngIf="createFormGroup.controls.treasuryCode.hasError('maxlength')">
						El campo debe tener máximo <strong>4 caracteres</strong>.
					</mat-error>
					<mat-error *ngIf="createFormGroup.controls.treasuryCode.hasError('minlength')">
						El campo debe tener mínimo <strong>4 caracteres</strong>.
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12 col-md-12 col-sm-12">
					<mat-label>Centro de utilidad (SEDE)</mat-label>
					<mat-select formControlName='utilityCenter'>
						<mat-option *ngFor="let item of campus" [value]="item.id">
							{{item.code}} - {{item.name}}
						</mat-option>
					</mat-select>
					<mat-error *ngIf="createFormGroup.controls.utilityCenter.hasError('required')">
						El campo es <strong>Obligatorio</strong>.
					</mat-error>
				</mat-form-field>

				<mat-form-field class="col-lg-12 col-md-12 col-sm-12">
					<mat-label>Comprobante</mat-label>
					<mat-select formControlName='voucherId'>
						<mat-option *ngFor="let item of vouchers" [value]="item.id">
							{{item.code}} - {{item.description}}
						</mat-option>
					</mat-select>
					<mat-error *ngIf="createFormGroup.controls.voucherId .hasError('required')">
						El campo es <strong>Obligatorio</strong>.
					</mat-error>
				</mat-form-field>

				<h2 class="centered fullwidth">Registro Presupuestal</h2>

				<div style=" width: 100%;">

					<div class="mat-elevation-z3" style="margin: 10px;">

						<div class="overflowTable">
							<table mat-table [dataSource]="dataSource" matSort>

								<ng-container matColumnDef="accountid">
									<th mat-header-cell *matHeaderCellDef mat-sort-header>Cuenta</th>
									<td mat-cell *matCellDef="let element ; index as i;">
										<mat-form-field class="col-lg-12 col-md-12 col-sm-12">
											<mat-label>Cuenta Contable {{i}}</mat-label>
											<mat-select>
												<mat-option [disabled]="true" class="selectorInputFilter">
													<input matInput placeholder="Filtrar por número o nombre"
														[ngModelOptions]="{ standalone: true }"
														[(ngModel)]="element.filter"
														(keydown)="$event.stopPropagation()" autocomplete="off">
												</mat-option>
												<div *ngFor="let item of budgedAccounts | slice:0:50">
													<mat-option [value]="item.id" *ngIf="filterSelect(element.filter, item)">
														{{item.code}} - {{item.description}}
													</mat-option>
												</div>

											</mat-select>
											<!-- <mat-error *ngIf="createFormGroup.controls.singleAccountPlanId.hasError('required')">
												El campo ciudad es <strong>Obligatorio</strong>.
											</mat-error> -->
										</mat-form-field>

									</td>
								</ng-container>

								<ng-container matColumnDef="campusid">
									<th mat-header-cell *matHeaderCellDef>Centro de Utilidad</th>
									<td mat-cell *matCellDef="let element">
										<!-- <mat-form-field class="col-lg-6 col-md-6 col-sm-12">
											<mat-label>Tipo de cuenta</mat-label>
											<mat-select formControlName="accountTypeId">
												<mat-option *ngFor="let item of accountTypes" [value]="item.id">
													{{item.name}}
												</mat-option>
											</mat-select>
											<mat-error
												*ngIf="createFormGroup.controls.accountTypeId.hasError('required')">
												El campo es <strong>obligatorio</strong>.
											</mat-error>
										</mat-form-field> -->
									</td>
								</ng-container>

								<ng-container matColumnDef="revenueid">
									<th mat-header-cell *matHeaderCellDef>Fuente</th>
									<td mat-cell *matCellDef="let element">
										<!-- <mat-form-field class="col-lg-6 col-md-6 col-sm-12">
											<mat-label>Tipo de cuenta</mat-label>
											<mat-select formControlName="accountTypeId">
												<mat-option *ngFor="let item of accountTypes" [value]="item.id">
													{{item.name}}
												</mat-option>
											</mat-select>
											<mat-error
												*ngIf="createFormGroup.controls.accountTypeId.hasError('required')">
												El campo es <strong>obligatorio</strong>.
											</mat-error>
										</mat-form-field> -->
									</td>
								</ng-container>

								<ng-container matColumnDef="proyectid">
									<th mat-header-cell *matHeaderCellDef>Proyecto</th>
									<td mat-cell *matCellDef="let element">
										<!-- <mat-form-field class="col-lg-6 col-md-6 col-sm-12">
											<mat-label>Tipo de cuenta</mat-label>
											<mat-select formControlName="accountTypeId">
												<mat-option *ngFor="let item of accountTypes" [value]="item.id">
													{{item.name}}
												</mat-option>
											</mat-select>
											<mat-error
												*ngIf="createFormGroup.controls.accountTypeId.hasError('required')">
												El campo es <strong>obligatorio</strong>.
											</mat-error>
										</mat-form-field> -->
									</td>
								</ng-container>

								<ng-container matColumnDef="amount">
									<th mat-header-cell *matHeaderCellDef>Monto</th>
									<td mat-cell *matCellDef="let element">{{element.amount}}</td>
								</ng-container>

								<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
								<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
							</table>

						</div>

						<mat-paginator [pageSizeOptions]=mainTablePaginationOptions showFirstLastButtons>

						</mat-paginator>
					</div>
				</div>
			</div>
		</form>
	</mat-dialog-content>
	<mat-dialog-actions align="end">
		<button mat-button mat-dialog-close color="warn">Cerrar</button>
		<button mat-button class="successbutton" (click)="create()" [disabled]="!createFormGroup.valid">Crear</button>
	</mat-dialog-actions>

</div>